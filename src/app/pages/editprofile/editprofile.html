<div class="root-container">
  <ion-content>
    <ion-grid class="ion-text-center ion-no-padding">
      <ion-row *ngIf="!isEdit">
        <ion-col class="ion-text-center ion-padding">
          {{'edit-profile-intro'|translate}}
        </ion-col>
      </ion-row>
      <ion-row class="ion-padding" *ngIf="!isEdit">
        <ion-col class="ion-text-center">
          {{'name-is-required'|translate}}
        </ion-col>
      </ion-row>
      <ion-row class="ion-padding">
        <ion-col class="ion-align-self-center">
          <did-button class="secondary-button" (click)="next()"
            [title]="'save-profile' | translate"
            [bgcolor]="'rgba(0,0,0,0)'"
            [bordercolor]="'#FFFFFF'"
            [shadow]="false"></did-button>
        </ion-col>
      </ion-row>
      <div class="profile-container">
        <div class="profile-picture">
          <div class="no-picture" *ngIf="false">
            {{'no-picture-placeholder'|translate}}
          </div>
          <img [src]="profile.getDefaultProfilePicturePath()">
        </div>
        <div class="profile-items">
          <ion-list>
            <ion-item *ngFor="let entry of profile.entries">
              <!-- String credential type -->
              <ion-item lines="none" class="item" *ngIf="entry.info.isText()">
                <ion-label>{{'credential-info-type-'+entry.info.key | translate}}</ion-label>
                <ion-input [placeholder]="'enter-here'|translate" [(ngModel)]="entry.value" class="ion-text-right deletion-margin-right" (keyup)="maybeMoveFocus(emailInput, $event)"></ion-input>
                <ion-label class="deletion" (click)="deleteProfileEntry(entry, $event)"><ion-icon name="remove"></ion-icon></ion-label>
              </ion-item>
              <!-- Email credential type -->
              <ion-item lines="none" class="item" *ngIf="entry.info.isEmail()">
                <ion-label>{{'credential-info-type-'+entry.info.key | translate}}</ion-label>
                <ion-input [placeholder]="'enter-here'|translate" [(ngModel)]="entry.value" type="email" pattern="email" class="ion-text-right deletion-margin-right" (keyup)="maybeMoveFocus(telInput, $event)"></ion-input>
                <ion-label class="deletion" (click)="deleteProfileEntry(entry, $event)"><ion-icon name="remove"></ion-icon></ion-label>
              </ion-item>
              <!-- Phone number credential type -->
              <ion-item lines="none" class="item" *ngIf="entry.info.isPhoneNumber()">
                <ion-label>{{'credential-info-type-'+entry.info.key | translate}}</ion-label>
                <ion-input [placeholder]="'enter-here'|translate" [(ngModel)]="entry.value" type="tel" class="ion-text-right deletion-margin-right" (keyup)="maybeClearFocus(telInput, $event)"></ion-input>
                <ion-label class="deletion" (click)="deleteProfileEntry(entry, $event)"><ion-icon name="remove"></ion-icon></ion-label>
              </ion-item>
              <!-- Country credential type -->
              <ion-item lines="none" class="item" *ngIf="entry.info.isCountry()" (click)="selectCountry(entry)">
                <ion-label>{{'credential-info-type-'+entry.info.key | translate}}</ion-label>
                <ion-label class="input-label ion-text-right deletion-margin-right">{{ getDisplayableNation(entry.value) || ('enter-here'|translate) }}</ion-label>
                <ion-label class="deletion" (click)="deleteProfileEntry(entry, $event)"><ion-icon name="remove"></ion-icon></ion-label>
              </ion-item>
              <!-- Gender credential type -->
              <ion-item lines="none" class="item" *ngIf="entry.info.isGender()">
                <ion-label>{{'credential-info-type-'+entry.info.key | translate}}</ion-label>
                <ion-select [(ngModel)]="entry.value" [placeholder]="'select-one'|translate" interface="popover" class="deletion-margin-right">
                  <ion-select-option value="female">{{'female'|translate}}</ion-select-option>
                  <ion-select-option value="male">{{'male'|translate}}</ion-select-option>
                </ion-select>
                <ion-label class="deletion" (click)="deleteProfileEntry(entry, $event)"><ion-icon name="remove"></ion-icon></ion-label>
              </ion-item>
              <!-- Date credential type -->
              <ion-item lines="none" class="item" *ngIf="entry.info.isDate()">
                <ion-label>{{'credential-info-type-'+entry.info.key | translate}}</ion-label>
                <ion-datetime picker-format="YYYY/M/D" [(ngModel)]="entry.value" [placeholder]="'select-date'|translate" class="deletion-margin-right"></ion-datetime>
                <ion-label class="deletion" (click)="deleteProfileEntry(entry, $event)"><ion-icon name="remove"></ion-icon></ion-label>
              </ion-item>
            </ion-item>

            <ion-item class="bottom-actions" lines="none">
              <rounded-action-button title="add-info" image='assets/images/Edit_Simple_Icon.svg' (click)="addProfileEntry()" color="var(--action-color)" imgcolor="#FFFFFF"></rounded-action-button>
            </ion-item>
          </ion-list>
        </div>
      </div>
    </ion-grid>
  </ion-content>
</div>
