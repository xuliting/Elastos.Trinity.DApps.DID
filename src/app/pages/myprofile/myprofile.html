<ion-header>
  <header-bar title="My profile" [showMenu]="true" (onMenu)="menuClicked($event)"></header-bar>
</ion-header>

<ion-content class="ion-padding" no-bounce>
  <ion-list>
    <ion-item class="ion-text-center" (click)="showQRCode()">
      <ion-grid class="ion-margin">
        <ion-row>
          <ion-col>
            <ion-img [src]="'/assets/images/defaultuser.png'" class="profilepicture"></ion-img>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <div class="name">{{Config.profile.fullname}}</div>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="didString!=''">
          <ion-col>
            <div class="did">{{ didString }}</div>
            <ion-img [src]="'/assets/images/qrcodesmall.png'" class="qrcode"></ion-img>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
    <ion-item>
      <ion-grid>
        <ion-row>
          <ion-col class="item-label">Email address</ion-col>
        </ion-row>
        <ion-row>
          <ion-col class="item-value">{{Config.profile.email}}</ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
    <ion-item>
      <ion-grid>
        <ion-row>
          <ion-col class="item-label">Phone number</ion-col>
        </ion-row>
        <ion-row>
          <ion-col class="item-value">{{Config.profile.phonenumber}}</ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
    <ion-item>
      <ion-grid>
        <ion-row>
          <ion-col class="item-label">Country/Region</ion-col>
        </ion-row>
        <ion-row>
          <ion-col class="item-value">{{Config.profile.area}}</ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
    <ion-item>
      <ion-grid>
        <ion-row>
          <ion-col class="item-label">Gender</ion-col>
        </ion-row>
        <ion-row>
          <ion-col class="item-value">{{Config.profile.gender}}</ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
    <ion-item>
      <ion-grid>
        <ion-row>
          <ion-col class="item-label">Birthday</ion-col>
        </ion-row>
        <ion-row>
          <ion-col class="item-value">{{Config.profile.birthday}}</ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </ion-list>

  <div class="bottom-drawer-translucent-background" *ngIf="bottomDrawerState == 1" (click)="hideBottomDrawer()"></div>
</ion-content>

<ion-footer class="ion-text-center ion-padding">
  <ion-button expand="full" size="large" (click)="next()">Next</ion-button>
</ion-footer>

<ion-bottom-drawer *ngIf="didString!=''" [(state)]="bottomDrawerState" [dockedHeight]="330" [disableDrag]="true">
  <div class="drawer-content ion-padding">
    <ion-grid>
      <ion-row>
        <ion-col (click)="hideBottomDrawer()">
          <ion-img [src]="'/assets/images/bottomarrow.png'" class="bottom-close-arrow"></ion-img>
        </ion-col>
      </ion-row>
      <ion-row >
        <ion-col class="ion-text-center">
          <qrcode [qrdata]="didString" [size]="150"></qrcode>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <div class="bottom-did-string">{{didString}}</div>
        </ion-col>
      </ion-row>
      <ion-row>
          <ion-col class="ion-text-center">
            <ion-button size="small" (click)="copyDIDToClipboard()">Copy to clipboard</ion-button>
          </ion-col>
        </ion-row>
    </ion-grid>
  </div>
</ion-bottom-drawer>
